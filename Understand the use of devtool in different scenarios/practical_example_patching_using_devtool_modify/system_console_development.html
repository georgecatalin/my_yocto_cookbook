<pre><font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ mv workspace/ workspace_old
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ ls -lh
total 1,9M
drwxrwxr-x 3 georgeca georgeca 4,0K mai 24 09:01 <font color="#12488B"><b>&apos;~&apos;</b></font>
-rw-rw-r-- 1 georgeca georgeca 1,9M iun 11 15:46  bitbake-cookerdaemon.log
drwxrwxr-x 2 georgeca georgeca 4,0K iun 11 15:46  <font color="#12488B"><b>cache</b></font>
drwxrwxr-x 3 georgeca georgeca 4,0K iun 11 12:20  <font color="#12488B"><b>conf</b></font>
drwxrwxr-x 4 georgeca georgeca 4,0K iun 10 16:20  <font color="#12488B"><b>meta-advanced-calculator</b></font>
drwxrwxr-x 4 georgeca georgeca 4,0K iun 11 09:36  <font color="#12488B"><b>meta_advanced-calculator-makefile</b></font>
drwxrwxr-x 4 georgeca georgeca 4,0K mai 27 16:10  <font color="#12488B"><b>meta-assignment-vars</b></font>
drwxrwxr-x 6 georgeca georgeca 4,0K iun 11 15:38  <font color="#12488B"><b>workspace_old</b></font>
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ devtool modify --help
<b>NOTE</b>: Starting bitbake server...
usage: devtool modify [-h] [--wildcard] [--extract | --no-extract] [--same-dir | --no-same-dir] [--branch BRANCH] [--no-overrides] [--keep-temp] recipename [srctree]

Sets up the build environment to modify the source for an existing recipe. The default behaviour is to extract the source being fetched by the recipe into a git tree so you can work
on it; alternatively if you already have your own pre-prepared source tree you can specify -n/--no-extract.

arguments:
  recipename            Name of existing recipe to edit (just name - no version, path or extension)
  srctree               Path to external source tree. If not specified, a subdirectory of /home/georgeca/yocto_tutorial/my_builds/workspace/sources will be used.

options:
  -h, --help            show this help message and exit
  --wildcard, -w        Use wildcard for unversioned bbappend
  --extract, -x         Extract source for recipe (default)
  --no-extract, -n      Do not extract source, expect it to exist
  --same-dir, -s        Build in same directory as source
  --no-same-dir         Force build in a separate build directory
  --branch BRANCH, -b BRANCH
                        Name for development branch to checkout (when not using -n/--no-extract) (default &quot;devtool&quot;)
  --no-overrides, -O    Do not create branches for other override configurations
  --keep-temp           Keep temporary directory (for debugging)
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ devtool modify factorial
<b>NOTE</b>: Starting bitbake server...
INFO: Creating workspace layer in /home/georgeca/yocto_tutorial/my_builds/workspace
NOTE: Reconnecting to bitbake server...
NOTE: Retrying server connection (#1)...
Loading cache: 100% |                                                                                                                                                    | ETA:  --:--:--
Loaded 0 entries from dependency cache.
Parsing recipes: 100% |###################################################################################################################################################| Time: 0:00:30
Parsing of 1747 .bb files complete (0 cached, 1747 parsed). 2786 targets, 115 skipped, 0 masked, 0 errors.
<b>NOTE</b>: Resolving any missing task queue dependencies

Build Configuration:
BB_VERSION           = &quot;2.0.0&quot;
BUILD_SYS            = &quot;x86_64-linux&quot;
NATIVELSBSTRING      = &quot;universal&quot;
TARGET_SYS           = &quot;arm-poky-linux-gnueabi&quot;
MACHINE              = &quot;beaglebone-yocto&quot;
DISTRO               = &quot;poky&quot;
DISTRO_VERSION       = &quot;4.0.27&quot;
TUNE_FEATURES        = &quot;arm vfp cortexa8 neon callconvention-hard&quot;
TARGET_FPU           = &quot;hard&quot;
meta                 
meta-poky            
meta-yocto-bsp       = &quot;kirkstone:ab9a994a8cd8e06b519a693db444030999d273b7&quot;
meta-oe              = &quot;kirkstone:e42549cef364ae09b3b7c8b64bbeab32e50f1bb0&quot;
meta-george          = &quot;kirkstone:ab9a994a8cd8e06b519a693db444030999d273b7&quot;
workspace            = &quot;&lt;unknown&gt;:&lt;unknown&gt;&quot;

Initialising tasks: 100% |################################################################################################################################################| Time: 0:00:00
Sstate summary: Wanted 0 Local 0 Mirrors 0 Missed 0 Current 20 (0% match, 100% complete)
<b>NOTE</b>: Executing Tasks
<b>NOTE</b>: Tasks Summary: Attempted 93 tasks of which 90 didn&apos;t need to be rerun and all succeeded.
INFO: Source tree extracted to /home/georgeca/yocto_tutorial/my_builds/workspace/sources/factorial
INFO: Using source tree as build directory since that would be the default for this recipe
INFO: Recipe factorial now set up to build from /home/georgeca/yocto_tutorial/my_builds/workspace/sources/factorial
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ ls -lh
total 2,0M
drwxrwxr-x 3 georgeca georgeca 4,0K mai 24 09:01 <font color="#12488B"><b>&apos;~&apos;</b></font>
-rw-rw-r-- 1 georgeca georgeca 1,9M iun 11 16:18  bitbake-cookerdaemon.log
drwxrwxr-x 2 georgeca georgeca 4,0K iun 11 16:18  <font color="#12488B"><b>cache</b></font>
drwxrwxr-x 3 georgeca georgeca 4,0K iun 11 12:20  <font color="#12488B"><b>conf</b></font>
drwxrwxr-x 4 georgeca georgeca 4,0K iun 10 16:20  <font color="#12488B"><b>meta-advanced-calculator</b></font>
drwxrwxr-x 4 georgeca georgeca 4,0K iun 11 09:36  <font color="#12488B"><b>meta_advanced-calculator-makefile</b></font>
drwxrwxr-x 4 georgeca georgeca 4,0K mai 27 16:10  <font color="#12488B"><b>meta-assignment-vars</b></font>
drwxrwxr-x 5 georgeca georgeca 4,0K iun 11 16:18  <font color="#12488B"><b>workspace</b></font>
drwxrwxr-x 6 georgeca georgeca 4,0K iun 11 15:38  <font color="#12488B"><b>workspace_old</b></font>
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ tree workspace
<font color="#12488B"><b>workspace</b></font>
├── <font color="#12488B"><b>appends</b></font>
│   └── factorial_git.bbappend
├── <font color="#12488B"><b>conf</b></font>
│   └── layer.conf
├── README
└── <font color="#12488B"><b>sources</b></font>
    └── <font color="#12488B"><b>factorial</b></font>
        ├── factorial.c
        └── Makefile

4 directories, 5 files
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ code workspace/sources/factorial/factorial.c 
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ git status
fatal: not a git repository (or any of the parent directories): .git
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ cd workspace
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace</b></font>$ git status
fatal: not a git repository (or any of the parent directories): .git
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace</b></font>$ cd sources/factorial/
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace/sources/factorial</b></font>$ git status
On branch devtool
Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)
	<font color="#C01C28">modified:   factorial.c</font>

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace/sources/factorial</b></font>$ git add factorial.c 
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace/sources/factorial</b></font>$ git commit -m &quot;modified C source file&quot;
[devtool 39be9f2] modified C source file
 1 file changed, 1 insertion(+), 1 deletion(-)
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace/sources/factorial</b></font>$ devtool build factorial
<b>NOTE</b>: Starting bitbake server...
NOTE: Reconnecting to bitbake server...
NOTE: Retrying server connection (#1)...
Loading cache: 100% |#####################################################################################################################################################| Time: 0:00:00
Loaded 2786 entries from dependency cache.
Parsing recipes: 100% |###################################################################################################################################################| Time: 0:00:00
Parsing of 1747 .bb files complete (1746 cached, 1 parsed). 2786 targets, 115 skipped, 0 masked, 0 errors.
Removing 1 recipes from the beaglebone_yocto sysroot: 100% |##############################################################################################################| Time: 0:00:00
Removing 1 recipes from the cortexa8hf-neon sysroot: 100% |###############################################################################################################| Time: 0:00:00
Loading cache: 100% |#####################################################################################################################################################| Time: 0:00:01
Loaded 2786 entries from dependency cache.
Parsing recipes: 100% |###################################################################################################################################################| Time: 0:00:00
Parsing of 1747 .bb files complete (1746 cached, 1 parsed). 2786 targets, 115 skipped, 0 masked, 0 errors.
<b>NOTE</b>: Resolving any missing task queue dependencies

Build Configuration:
BB_VERSION           = &quot;2.0.0&quot;
BUILD_SYS            = &quot;x86_64-linux&quot;
NATIVELSBSTRING      = &quot;universal&quot;
TARGET_SYS           = &quot;arm-poky-linux-gnueabi&quot;
MACHINE              = &quot;beaglebone-yocto&quot;
DISTRO               = &quot;poky&quot;
DISTRO_VERSION       = &quot;4.0.27&quot;
TUNE_FEATURES        = &quot;arm vfp cortexa8 neon callconvention-hard&quot;
TARGET_FPU           = &quot;hard&quot;
meta                 
meta-poky            
meta-yocto-bsp       = &quot;kirkstone:ab9a994a8cd8e06b519a693db444030999d273b7&quot;
meta-oe              = &quot;kirkstone:e42549cef364ae09b3b7c8b64bbeab32e50f1bb0&quot;
meta-george          = &quot;kirkstone:ab9a994a8cd8e06b519a693db444030999d273b7&quot;
workspace            = &quot;&lt;unknown&gt;:&lt;unknown&gt;&quot;

Initialising tasks: 100% |################################################################################################################################################| Time: 0:00:00
Sstate summary: Wanted 8 Local 4 Mirrors 0 Missed 4 Current 143 (50% match, 97% complete)
<b>NOTE</b>: Executing Tasks
NOTE: factorial: compiling from external source tree /home/georgeca/yocto_tutorial/my_builds/workspace/sources/factorial
<b>NOTE</b>: Tasks Summary: Attempted 631 tasks of which 623 didn&apos;t need to be rerun and all succeeded.
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace/sources/factorial</b></font>$ git deploy-target factorial root@192.168.55.86
git: &apos;deploy-target&apos; is not a git command. See &apos;git --help&apos;.
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace/sources/factorial</b></font>$ devtool deploy-target factorial root#192.168.55.86
<b>NOTE</b>: Starting bitbake server...
NOTE: Reconnecting to bitbake server...
NOTE: Retrying server connection (#1)...
NOTE: Reconnecting to bitbake server...
NOTE: Previous bitbake instance shutting down?, waiting to retry...
NOTE: Retrying server connection (#2)...
Loading cache: 100% |#####################################################################################################################################################| Time: 0:00:00
Loaded 2786 entries from dependency cache.
Parsing recipes: 100% |###################################################################################################################################################| Time: 0:00:00
Parsing of 1747 .bb files complete (1746 cached, 1 parsed). 2786 targets, 115 skipped, 0 masked, 0 errors.
lost connection
ERROR: Failed to copy script to root#192.168.55.86 - rerun with -s to get a complete error message
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace/sources/factorial</b></font>$ devtool deploy-target factorial root@192.168.55.86
<b>NOTE</b>: Starting bitbake server...
NOTE: Reconnecting to bitbake server...
NOTE: Retrying server connection (#1)...
Loading cache: 100% |#####################################################################################################################################################| Time: 0:00:00
Loaded 2786 entries from dependency cache.
Parsing recipes: 100% |###################################################################################################################################################| Time: 0:00:00
Parsing of 1747 .bb files complete (1746 cached, 1 parsed). 2786 targets, 115 skipped, 0 masked, 0 errors.
tar: ./usr/bin/factorial: time stamp 2025-06-11 13:24:35 is 229041503.367077482 s in the future
tar: ./usr/bin: time stamp 2025-06-11 13:24:35 is 229041503.365073607 s in the future
tar: ./usr: time stamp 2025-06-11 13:24:35 is 229041503.362768774 s in the future
tar: .: time stamp 2025-06-11 13:24:35 is 229041503.360904399 s in the future
INFO: Successfully deployed /home/georgeca/yocto_tutorial/sources/tmp/work/cortexa8hf-neon-poky-linux-gnueabi/factorial/1.0+git999-r0/image
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace/sources/factorial</b></font>$ devtool undeploy-target root@192.168.55.86
<b>NOTE</b>: Starting bitbake server...
devtool undeploy-target: error: If you don&apos;t specify a recipe, you must specify -a/--all
usage: devtool undeploy-target [-h] [-c] [-s] [-a] [-n] [-e SSH_EXEC] [-P PORT] [-I KEY] [recipename] target

Un-deploys recipe output files previously deployed to a live target machine by devtool deploy-target.

arguments:
  recipename            Recipe to undeploy (if not using -a/--all)
  target                Live target machine running an ssh server: user@hostname

options:
  -h, --help            show this help message and exit
  -c, --no-host-check   Disable ssh host key checking
  -s, --show-status     Show progress/status output
  -a, --all             Undeploy all recipes deployed on the target
  -n, --dry-run         List files to be undeployed only
  -e SSH_EXEC, --ssh-exec SSH_EXEC
                        Executable to use in place of ssh
  -P PORT, --port PORT  Specify port to use for connection to the target
  -I KEY, --key KEY     Specify ssh private key for connection to the target
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace/sources/factorial</b></font>$ devtool undeploy-target factorial root@192.168.55.86
<b>NOTE</b>: Starting bitbake server...
INFO: Successfully undeployed factorial
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds/workspace/sources/factorial</b></font>$ cd ../../..
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ bitbake-layers create-layer ../poky/meta-george-append-layer
<b>NOTE</b>: Starting bitbake server...
Add your new layer with &apos;bitbake-layers add-layer ../poky/meta-george-append-layer&apos;
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ devtool finish --help
<b>NOTE</b>: Starting bitbake server...
usage: devtool finish [-h] [--mode MODE] [--initial-rev INITIAL_REV] [--force] [--remove-work] [--no-clean] [--no-overrides] [--dry-run] [--force-patch-refresh] recipename destination

Pushes any committed changes to the specified recipe to the specified layer and removes it from your workspace. Roughly equivalent to an update-recipe followed by reset, except the
update-recipe step will do the &quot;right thing&quot; depending on the recipe and the destination layer specified. Note that your changes must have been committed to the git repository in
order to be recognised.

arguments:
  recipename            Recipe to finish
  destination           Layer/path to put recipe into. Can be the name of a layer configured in your bblayers.conf, the path to the base of a layer, or a partial path inside a layer.
                        devtool finish will attempt to complete the path based on the layer&apos;s structure.

options:
  -h, --help            show this help message and exit
  --mode MODE, -m MODE  Update mode (where MODE is patch, srcrev, auto; default is auto)
  --initial-rev INITIAL_REV
                        Override starting revision for patches
  --force, -f           Force continuing even if there are uncommitted changes in the source tree repository
  --remove-work, -r     Clean the sources directory under workspace
  --no-clean, -n        Don&apos;t clean the sysroot to remove recipe output
  --no-overrides, -O    Do not handle other override branches (if they exist)
  --dry-run, -N         Dry-run (just report changes instead of writing them)
  --force-patch-refresh
                        Update patches in the layer even if they have not been modified (useful for refreshing patch context)
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ devtool finish factorial ../poky/meta-george-append-layer/
<b>NOTE</b>: Starting bitbake server...
ERROR: Source tree is not clean:

?? factorial

Ensure you have committed your changes or use -f/--force if you are sure there&apos;s nothing that needs to be committed
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ devtool finish --force factorial ../poky/meta-george-append-layer/
<b>NOTE</b>: Starting bitbake server...
WARNING: Source tree is not clean, continuing as requested by -f/--force
NOTE: Reconnecting to bitbake server...
NOTE: Retrying server connection (#1)...
Loading cache: 100% |#####################################################################################################################################################| Time: 0:00:00
Loaded 2786 entries from dependency cache.
Parsing recipes: 100% |###################################################################################################################################################| Time: 0:00:00
Parsing of 1747 .bb files complete (1746 cached, 1 parsed). 2786 targets, 115 skipped, 0 masked, 0 errors.
<font color="#A2734C"><b>WARNING</b></font>: <font color="#A2734C">Specified layer is not currently enabled in bblayers.conf, you will need to add it before this bbappend will be active</font>
<b>NOTE</b>: Writing append file /home/georgeca/yocto_tutorial/poky/meta-george-append-layer/recipes-factorial/factorial/factorial_%.bbappend
<b>NOTE</b>: Copying 0001-modified-C-source-file.patch to /home/georgeca/yocto_tutorial/poky/meta-george-append-layer/recipes-factorial/factorial/factorial/0001-modified-C-source-file.patch
INFO: Cleaning sysroot for recipe factorial...
INFO: Leaving source tree /home/georgeca/yocto_tutorial/my_builds/workspace/sources/factorial as-is; if you no longer need it then please delete it manually
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ tree ../poky/meta-george-append-layer/
<font color="#12488B"><b>../poky/meta-george-append-layer/</b></font>
├── <font color="#12488B"><b>conf</b></font>
│   └── layer.conf
├── COPYING.MIT
├── README
├── <font color="#12488B"><b>recipes-example</b></font>
│   └── <font color="#12488B"><b>example</b></font>
│       └── example_0.1.bb
└── <font color="#12488B"><b>recipes-factorial</b></font>
    └── <font color="#12488B"><b>factorial</b></font>
        ├── <font color="#12488B"><b>factorial</b></font>
        │   └── 0001-modified-C-source-file.patch
        └── factorial_%.bbappend

6 directories, 6 files
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ bitbake-layers add-layer ../poky/meta-george-append-layer/
<b>NOTE</b>: Starting bitbake server...
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ bitbake-layers show-layers
<b>NOTE</b>: Starting bitbake server...
layer                 path                                      priority
==========================================================================
meta                  /home/georgeca/yocto_tutorial/poky/meta   5
meta-poky             /home/georgeca/yocto_tutorial/poky/meta-poky  5
meta-yocto-bsp        /home/georgeca/yocto_tutorial/poky/meta-yocto-bsp  5
meta-oe               /home/georgeca/yocto_tutorial/poky/meta-openembedded/meta-oe  5
meta-george           /home/georgeca/yocto_tutorial/poky/meta-george  6
workspace             /home/georgeca/yocto_tutorial/my_builds/workspace  99
meta-george-append-layer  /home/georgeca/yocto_tutorial/poky/meta-george-append-layer  6
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ cat ../poky/meta-george-append-layer/recipes-factorial/factorial/factorial/0001-modified-C-source-file.patch 
From 39be9f2d8e3d9369bb9a35da025e2fcec314418c Mon Sep 17 00:00:00 2001
From: George Calin &lt;george.calin@gmail.com&gt;
Date: Wed, 11 Jun 2025 16:24:07 +0300
Subject: [PATCH] modified C source file

---
 factorial.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/factorial.c b/factorial.c
index 8b276eb..9b9a2c7 100644
--- a/factorial.c
+++ b/factorial.c
@@ -19,7 +19,7 @@ int usage(void) {
 
 int main(int argc, char *argv[]) {  
     if(argc&lt;=1) {
-        printf(&quot;ERROR: No argument found...\n&quot;);
+        printf(&quot;INVALID INPUT: No argument found...\n&quot;);
         usage();
         exit(1);
      }
<font color="#26A269"><b>georgeca@georgeca-VirtualBox</b></font>:<font color="#12488B"><b>~/yocto_tutorial/my_builds</b></font>$ cat ../poky/meta-george-append-layer/recipes-factorial/factorial/factorial_%.bbappend 
FILESEXTRAPATHS:prepend := &quot;${THISDIR}/${PN}:&quot;

SRC_URI += &quot;file://0001-modified-C-source-file.patch&quot;
</pre>
